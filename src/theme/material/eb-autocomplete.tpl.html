<ng-template key="q-eb-autocomplete.tpl.html"
             let-$expr>
	<mat-form-field floatLabel="never"
	                q-autosize="input"
	                [q-eb-class]="$expr.classes"
	                [q-eb-class-model]="$expr"
	                matTooltip="{{$expr.state && $expr.state.join(', ')}}"
	                matTooltipPosition="after"
	                matTooltipShowDelay="500"
	                matTooltipClass="q-condition-builder-error-tooltip">
		<input matInput
		       #input
		       [(ngModel)]="$expr.value"
		       (input)="$expr.change && $expr.change();$expr.refresh && $expr.refresh()"
		       (optionSelected)="$expr.change && $expr.change()"
		       [placeholder]="$expr.placeholderText"
		       [matAutocomplete]="auto">
	</mat-form-field>

	<mat-autocomplete #auto="matAutocomplete">
		<mat-option *ngFor="let option of $expr.options | async"
		            [value]="option">
			{{option}}
		</mat-option>
	</mat-autocomplete>
</ng-template>